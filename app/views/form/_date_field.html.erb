<%
  # Get i18n_base from section (already validated there)
  setup = form_field_setup(field, local_assigns)

  # Form field options
  required ||= false

  # Build field options
  field_options = {
    placeholder: setup[:field_placeholder],
    required: required
  }.compact

  # Add value if provided
  field_options[:value] = local_assigns[:value] if local_assigns[:value]
%>

<%= render 'form/field_wrapper', prefilled: false, wrapper_class: 'date-field' do %>
  <%= setup[:form_object].label field, setup[:field_label] %>
  <%= setup[:form_object].send(:date_field, field, field_options) %>
  <% if setup[:field_hint].present? %>
    <small><%= setup[:field_hint] %></small>
  <% end %>
<% end %>
