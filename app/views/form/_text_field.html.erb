<%
  setup = form_field_setup(field, local_assigns)

  field_type = local_assigns[:type] || :text_field
  required ||= false

  field_options = {
    required:,
    accept: local_assigns[:accept],
    value: setup[:value]
  }
%>

<%= render 'form/field_wrapper', prefilled: setup[:prefilled], wrapper_class: 'text-field' do %>
  <%= setup[:form_object].label field, setup[:field_label] %>
  <%= setup[:form_object].send(field_type, field, field_options) %>
  <% if local_assigns[:help_text] %>
    <small class="help-text"><%= local_assigns[:help_text] %></small>
  <% end %>
<% end %>
