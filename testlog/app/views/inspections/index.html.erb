<header>
  <h1><%= @title %></h1>
</header>

<div class="center">
  <% if current_user.inspection_company_id.present? %>
    <%= button_to inspections_path, 
        method: :post,
        params: {
          inspection: {
            inspection_location: "",
            inspection_date: Date.current
          }
        },
        data: { 
          turbo_confirm: t('inspections.messages.create_without_unit_confirm')
        },
        class: "button" do %>
      <strong><%= t('inspections.buttons.add_inspection') %></strong>
    <% end %>
  <% else %>
    <p style="color: #e74c3c;">
      <%= current_user.inspection_company_required_message %>
    </p>
  <% end %>
</div>

<section>
  <%= render 'search_form' %>
</section>

<article>
  <% if @inspections.any? %>
    <%= inspection_links(current_user) %>
    <%= render 'inspections_table', inspections: @inspections %>
    <div class="center">
      <p>
        <%= link_to inspections_path(format: :csv) do %>
          <strong>Export CSV</strong>
        <% end %>
      </p>
    </div>
  <% else %>
    <p>No inspection records found.</p>
  <% end %>
</article>
